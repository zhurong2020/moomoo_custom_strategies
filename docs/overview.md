# 项目概述

## 项目简介

`moomoo_custom_strategies` 项目是一个为 Moomoo 桌面客户端量化功能量身定制的自定义交易策略集合。我们致力于提供一系列**简单、独立且功能聚焦**的策略，旨在帮助用户在 Moomoo 客户端内实现自动化交易。

**核心理念：** 本项目中的策略专注于在 Moomoo 客户端内提供核心的交易逻辑和功能。所有高级的、需要 24/7 监控、实时通知、复杂仓位/资金管理或本地文件记录等功能，都将通过一个独立的外部应用与 Moomoo OpenAPI (OpenD) 对接实现。这确保了客户端内策略的轻量化和高效运行。

## 项目结构

-   `strategies/`: **核心策略实现目录。** 每个子目录代表一个独立的交易策略，包含其代码 (`.quant` 文件) 和详细的说明文档 (`readme.md`)。
    -   `strategy_v1/`: **定投与回撤加仓策略。** 适用于长期资产积累，通过周期性定投和价格回撤时的分层加仓来摊低成本。
    -   `strategy_v2/`: **标准网格交易策略。** 经典的网格交易实现，侧重于订单执行的稳定性和持仓管理的健壮性。
    -   `strategy_v3/`: **高级网格交易策略。** 功能最全面、最复杂的网格策略，支持动态网格、金字塔加仓、隔离模式、价格区间限制等高级特性。
    -   `strategy_v3_1/`: **改进版网格交易策略。** 在 V3 基础上进行优化，提供统一的网格生成逻辑、多层次持仓同步和批量止盈等，旨在提升效率和灵活性。
-   `tools/`: **辅助工具集。** 包含用于策略开发、分析和数据收集的实用工具。
    -   `field_inspector.moo`: 字段检查和验证工具。
    -   `order_analyzer.moo`: 订单分析和统计工具。
    -   `pricedata_collector.moo`: 价格数据采集工具。
-   `docs/`: **项目文档中心。** 包含项目的整体概述、更新日志、API 参考和开发规范等。
    -   `overview.md`: 本文件，提供项目高层次概述。
    -   `changelog.md`: 项目及各策略的详细版本更新记录。
    -   `Moomoo量化功能中常用的API函数及其用法.txt`: Moomoo 量化 API 参考文档。
    -   `Moomoo量化策略框架具体说明.txt`: Moomoo 策略框架说明。
    -   `commit_convention.md`: Git 提交信息规范。
-   `historical_orders/`: 策略生成的历史订单记录（通常被 `.gitignore` 忽略，不纳入版本控制）。

## 实现理念

本项目的策略基于以下核心理念构建：

1.  **模块化与独立性：** 每个策略都是独立的模块，易于理解、测试和部署，避免策略间的复杂依赖。
2.  **功能聚焦：** 策略专注于在 Moomoo 客户端内实现核心交易逻辑，避免集成外部复杂功能，保持轻量化。
3.  **健壮性与可靠性：** 策略内置持仓验证、异常处理和重试机制，确保在各种市场条件下稳定运行。
4.  **用户友好：** 通过清晰的参数配置和详细的 `readme.md` 文档，降低用户上手难度。

## 主要功能与特性

-   **多样化策略：** 提供定投、标准网格和高级网格等多种策略类型，满足不同投资偏好。
-   **灵活配置：** 大部分策略参数均可配置，允许用户根据自身需求和市场情况进行调整。
-   **持仓管理：** 策略内置完善的持仓跟踪、验证和修正机制，确保本地记录与实际持仓一致。
-   **风险控制：** 支持价格区间限制、非日内交易模式、金字塔加仓等多种风控手段。
-   **日志与诊断：** 提供详细的日志输出，便于用户追踪交易、诊断问题。
-   **回测支持：** 策略设计考虑回测兼容性，部分策略提供回测优化选项，加速测试过程。

## 使用指南

1.  **克隆仓库：** 使用 Git 克隆本项目到本地。
2.  **选择策略：** 根据您的交易需求，选择 `strategies/` 目录下对应的策略子目录。
3.  **查阅文档：** 仔细阅读所选策略子目录下的 `readme.md` 文件，了解其核心功能、参数设置和已知问题。
4.  **配置参数：** 根据 `readme.md` 中的说明，在 Moomoo 客户端中配置策略参数。
5.  **充分测试：** 在模拟盘中进行充分的回测和模拟交易，验证策略表现。
6.  **谨慎实盘：** 在充分了解风险并确认策略符合预期后，再进行小额实盘交易。

## 未来计划

-   持续优化现有策略的性能和稳定性。
-   根据用户反馈和市场变化，探索和开发新的策略类型。
-   进一步完善文档，提供更详细的使用案例和故障排除指南。
-   与外部应用（通过 OpenD）的对接将持续进行，以实现更高级的监控和管理功能。